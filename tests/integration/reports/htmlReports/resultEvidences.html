<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Ntask</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:9,&quot;tests&quot;:17,&quot;passes&quot;:17,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2019-06-14T05:43:37.516Z&quot;,&quot;end&quot;:&quot;2019-06-14T05:43:41.965Z&quot;,&quot;duration&quot;:4449,&quot;testsRegistered&quot;:17,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;43c4af05-893f-4d46-b7e1-e23347eaa65d&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;da095d7b-8b1b-45c9-bb10-b6e20c92215e&quot;,&quot;title&quot;:&quot;GET: /tasks&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\tasks.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\tasks.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;GET: /tasks \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:424,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[2]++;cov_18egqiqfb4.s[10]++;Users.destroy({where:{}}).then(async()=&gt;{cov_18egqiqfb4.f[3]++;const[user]=(cov_18egqiqfb4.s[11]++,await Promise.all([Users.create({name:&#x27;bruno h afonso&#x27;,email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;123456&#x27;}),Tasks.destroy({where:{}})]));cov_18egqiqfb4.s[12]++;Tasks.bulkCreate([{id:1,title:&#x27;work&#x27;,user_id:user.id},{id:2,title:&#x27;study&#x27;,user_id:user.id}]).then(async tasks=&gt;{cov_18egqiqfb4.f[4]++;cov_18egqiqfb4.s[13]++;fakeTest=tasks[0];cov_18egqiqfb4.s[14]++;token=await(0,_token.generateToken)({id:user.id,email:user.email});cov_18egqiqfb4.s[15]++;done();});});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b650971-f82d-4503-b23e-c30a9dea36c9&quot;,&quot;parentUUID&quot;:&quot;da095d7b-8b1b-45c9-bb10-b6e20c92215e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 200 - \n  should return a list with two tasks&quot;,&quot;fullTitle&quot;:&quot;GET: /tasks status 200 - \n  should return a list with two tasks&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[5]++;cov_18egqiqfb4.s[17]++;request.get(&#x27;/tasks&#x27;).set(&#x27;Authorization&#x27;,`Bearer ${token}`).expect(200).end((err,response)=&gt;{cov_18egqiqfb4.f[6]++;cov_18egqiqfb4.s[18]++;(0,_chai.expect)(response.body.tasks).have.length(2);cov_18egqiqfb4.s[19]++;(0,_chai.expect)(response.body.tasks[0].title).to.be.equal(&#x27;work&#x27;);cov_18egqiqfb4.s[20]++;(0,_chai.expect)(response.body.tasks[1].title).to.be.equal(&#x27;study&#x27;);cov_18egqiqfb4.s[21]++;done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ddef875-6be5-4476-80d2-ae125dab9448&quot;,&quot;parentUUID&quot;:&quot;da095d7b-8b1b-45c9-bb10-b6e20c92215e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 401 - \n  when user is not authenticated&quot;,&quot;fullTitle&quot;:&quot;GET: /tasks status 401 - \n  when user is not authenticated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[7]++;cov_18egqiqfb4.s[23]++;request.get(&#x27;/tasks&#x27;).expect(401).end(err=&gt;{cov_18egqiqfb4.f[8]++;cov_18egqiqfb4.s[24]++;return done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22a9ec46-d103-4aaf-bb3b-839060e30579&quot;,&quot;parentUUID&quot;:&quot;da095d7b-8b1b-45c9-bb10-b6e20c92215e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ddef875-6be5-4476-80d2-ae125dab9448&quot;,&quot;22a9ec46-d103-4aaf-bb3b-839060e30579&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:78,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4023d0c1-3472-4799-9d66-b50a73690178&quot;,&quot;title&quot;:&quot;GET: /tasks/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\tasks.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\tasks.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 200 - should return a task&quot;,&quot;fullTitle&quot;:&quot;GET: /tasks/:id status 200 - should return a task&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[10]++;cov_18egqiqfb4.s[27]++;request.get(`/tasks/${fakeTest.id}`).set(&#x27;Authorization&#x27;,`Bearer ${token}`).expect(200).end((err,response)=&gt;{cov_18egqiqfb4.f[11]++;cov_18egqiqfb4.s[28]++;(0,_chai.expect)(response.body.task.title).to.be.equal(&#x27;work&#x27;);cov_18egqiqfb4.s[29]++;done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfd9cf57-a7c1-4b24-9c55-fc0935a20b56&quot;,&quot;parentUUID&quot;:&quot;4023d0c1-3472-4799-9d66-b50a73690178&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 404 - should return a message of not found&quot;,&quot;fullTitle&quot;:&quot;GET: /tasks/:id status 404 - should return a message of not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[12]++;cov_18egqiqfb4.s[31]++;request.get(&#x27;/tasks/0&#x27;).set(&#x27;Authorization&#x27;,`Bearer ${token}`).expect(404).end((err,response)=&gt;{cov_18egqiqfb4.f[13]++;cov_18egqiqfb4.s[32]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;message&#x27;);cov_18egqiqfb4.s[33]++;(0,_chai.expect)(response.body.message).to.be.equal(&#x27;task not found&#x27;);cov_18egqiqfb4.s[34]++;done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5db27441-5adc-4a99-88e5-b50226187c22&quot;,&quot;parentUUID&quot;:&quot;4023d0c1-3472-4799-9d66-b50a73690178&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cfd9cf57-a7c1-4b24-9c55-fc0935a20b56&quot;,&quot;5db27441-5adc-4a99-88e5-b50226187c22&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6529e5f6-919c-447e-bf25-757de114c11d&quot;,&quot;title&quot;:&quot;PUT: /tasks/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\tasks.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\tasks.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 204 - should return nothing&quot;,&quot;fullTitle&quot;:&quot;PUT: /tasks/:id status 204 - should return nothing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:222,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[15]++;cov_18egqiqfb4.s[37]++;request.put(`/tasks/${fakeTest.id}`).set(&#x27;Authorization&#x27;,`Bearer ${token}`).send({title:&#x27;travel&#x27;,done:true}).expect(204).end(err=&gt;{cov_18egqiqfb4.f[16]++;cov_18egqiqfb4.s[38]++;return done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b1b11bd-5546-48f7-888a-b975d138272e&quot;,&quot;parentUUID&quot;:&quot;6529e5f6-919c-447e-bf25-757de114c11d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b1b11bd-5546-48f7-888a-b975d138272e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:222,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d485c875-7c4f-43c5-9205-3e0e13c246e9&quot;,&quot;title&quot;:&quot;DELETE: /tasks/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\tasks.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\tasks.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 204 - should return the status 204&quot;,&quot;fullTitle&quot;:&quot;DELETE: /tasks/:id status 204 - should return the status 204&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[18]++;cov_18egqiqfb4.s[41]++;request.delete(`/tasks/${fakeTest.id}`).set(&#x27;Authorization&#x27;,`Bearer ${token}`).expect(204).end(err=&gt;{cov_18egqiqfb4.f[19]++;cov_18egqiqfb4.s[42]++;return done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc00406e-7bbf-4f45-a409-92cbfda0bafa&quot;,&quot;parentUUID&quot;:&quot;d485c875-7c4f-43c5-9205-3e0e13c246e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 401 - \n  when user is not authenticated&quot;,&quot;fullTitle&quot;:&quot;DELETE: /tasks/:id status 401 - \n  when user is not authenticated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_18egqiqfb4.f[20]++;cov_18egqiqfb4.s[44]++;request.get(&#x27;/tasks&#x27;).expect(401).end(err=&gt;{cov_18egqiqfb4.f[21]++;cov_18egqiqfb4.s[45]++;return done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27a2a6e1-53d4-437f-96d2-cc9ed5ae15c7&quot;,&quot;parentUUID&quot;:&quot;d485c875-7c4f-43c5-9205-3e0e13c246e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cc00406e-7bbf-4f45-a409-92cbfda0bafa&quot;,&quot;27a2a6e1-53d4-437f-96d2-cc9ed5ae15c7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:123,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6453dc05-9df1-414b-a8ae-439030e3c044&quot;,&quot;title&quot;:&quot;POST /login&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\users.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\users.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;POST /login \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:357,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[2]++;cov_oenp07420.s[9]++;Users.destroy({where:{}}).then(async()=&gt;{cov_oenp07420.f[3]++;cov_oenp07420.s[10]++;await Users.create({name:&#x27;brunohafonso&#x27;,email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;123456&#x27;});cov_oenp07420.s[11]++;done();});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd7d6d89-82ba-4daf-97d3-6672b66090ca&quot;,&quot;parentUUID&quot;:&quot;6453dc05-9df1-414b-a8ae-439030e3c044&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;POST /login \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:148,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[4]++;cov_oenp07420.s[13]++;Users.destroy({where:{}}).then(()=&gt;{cov_oenp07420.f[5]++;cov_oenp07420.s[14]++;return done();});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;055928d9-1e69-4ba2-aabe-bb73a8020204&quot;,&quot;parentUUID&quot;:&quot;6453dc05-9df1-414b-a8ae-439030e3c044&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 200 correct credentials - \n    should return the token of authenticated user&quot;,&quot;fullTitle&quot;:&quot;POST /login status 200 correct credentials - \n    should return the token of authenticated user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[6]++;cov_oenp07420.s[16]++;request.post(&#x27;/login&#x27;).send({email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;123456&#x27;}).expect(200).end((error,response)=&gt;{cov_oenp07420.f[7]++;cov_oenp07420.s[17]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;token&#x27;);cov_oenp07420.s[18]++;done(error);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0906f710-8e2a-468d-bac2-4d4399fa1413&quot;,&quot;parentUUID&quot;:&quot;6453dc05-9df1-414b-a8ae-439030e3c044&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 400 empty credentials - \n    should return error message when the email or password is blank&quot;,&quot;fullTitle&quot;:&quot;POST /login status 400 empty credentials - \n    should return error message when the email or password is blank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[8]++;cov_oenp07420.s[20]++;request.post(&#x27;/login&#x27;).send({email:&#x27;&#x27;,password:&#x27;&#x27;}).expect(400).end((error,response)=&gt;{cov_oenp07420.f[9]++;cov_oenp07420.s[21]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;message&#x27;);cov_oenp07420.s[22]++;(0,_chai.expect)(response.body.message).to.be.equal(&#x27;You need to inform the credentials correctly&#x27;);cov_oenp07420.s[23]++;done(error);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2aab8d8-0d5b-40d4-ad28-f046028b5d64&quot;,&quot;parentUUID&quot;:&quot;6453dc05-9df1-414b-a8ae-439030e3c044&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 200 wrong password - \n  should return error message when the password is wrong&quot;,&quot;fullTitle&quot;:&quot;POST /login status 200 wrong password - \n  should return error message when the password is wrong&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[10]++;cov_oenp07420.s[25]++;request.post(&#x27;/login&#x27;).send({email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;12&#x27;}).expect(200).end((error,response)=&gt;{cov_oenp07420.f[11]++;cov_oenp07420.s[26]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;message&#x27;);cov_oenp07420.s[27]++;(0,_chai.expect)(response.body.message).to.be.equal(&#x27;User or password incorrect&#x27;);cov_oenp07420.s[28]++;done(error);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcfa71bb-0947-4c51-878b-9c43fe5bb5c5&quot;,&quot;parentUUID&quot;:&quot;6453dc05-9df1-414b-a8ae-439030e3c044&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 404 credentials that does not exist - \n    should return error when the email informed does not exist&quot;,&quot;fullTitle&quot;:&quot;POST /login status 404 credentials that does not exist - \n    should return error when the email informed does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[12]++;cov_oenp07420.s[30]++;request.post(&#x27;/login&#x27;).send({email:&#x27;brunohafonso@gmai.com&#x27;,password:&#x27;12&#x27;}).expect(404).end((error,response)=&gt;{cov_oenp07420.f[13]++;cov_oenp07420.s[31]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;message&#x27;);cov_oenp07420.s[32]++;(0,_chai.expect)(response.body.message).to.be.equal(&#x27;user not found&#x27;);cov_oenp07420.s[33]++;done(error);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c8635fb-489d-4810-be00-f5c33ea6a348&quot;,&quot;parentUUID&quot;:&quot;6453dc05-9df1-414b-a8ae-439030e3c044&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0906f710-8e2a-468d-bac2-4d4399fa1413&quot;,&quot;b2aab8d8-0d5b-40d4-ad28-f046028b5d64&quot;,&quot;bcfa71bb-0947-4c51-878b-9c43fe5bb5c5&quot;,&quot;9c8635fb-489d-4810-be00-f5c33ea6a348&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:209,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4893d30e-0349-4259-aa1d-02545effa6c9&quot;,&quot;title&quot;:&quot;POST /users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\users.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\users.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;POST /users \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:115,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[15]++;cov_oenp07420.s[36]++;Users.destroy({where:{}}).then(()=&gt;{cov_oenp07420.f[16]++;cov_oenp07420.s[37]++;return done();});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f237bfe9-031e-4739-a10e-2b2e0ef2276d&quot;,&quot;parentUUID&quot;:&quot;4893d30e-0349-4259-aa1d-02545effa6c9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 201 correct user data - \n  should return the user inserted on db&quot;,&quot;fullTitle&quot;:&quot;POST /users status 201 correct user data - \n  should return the user inserted on db&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:218,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[17]++;cov_oenp07420.s[39]++;request.post(&#x27;/users&#x27;).send({name:&#x27;bruno h afonso&#x27;,email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;123456&#x27;}).expect(201).end((error,response)=&gt;{cov_oenp07420.f[18]++;cov_oenp07420.s[40]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;user&#x27;);cov_oenp07420.s[41]++;done(error);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3c21b31-c56e-4e9d-b535-11c30670d9c3&quot;,&quot;parentUUID&quot;:&quot;4893d30e-0349-4259-aa1d-02545effa6c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 412 wrong user data - \n  should return an error message&quot;,&quot;fullTitle&quot;:&quot;POST /users status 412 wrong user data - \n  should return an error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[19]++;cov_oenp07420.s[43]++;request.post(&#x27;/users&#x27;).send({name:&#x27;&#x27;,email:&#x27;&#x27;,password:&#x27;&#x27;}).expect(412).end((error,response)=&gt;{cov_oenp07420.f[20]++;cov_oenp07420.s[44]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;message&#x27;);cov_oenp07420.s[45]++;(0,_chai.expect)(response.body.message).to.contains(&#x27;Error to create user&#x27;);cov_oenp07420.s[46]++;done(error);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68bbbc3a-03cf-40d3-b596-3f4d1df50a30&quot;,&quot;parentUUID&quot;:&quot;4893d30e-0349-4259-aa1d-02545effa6c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;status 412 invalid email - \n  should return an error message&quot;,&quot;fullTitle&quot;:&quot;POST /users status 412 invalid email - \n  should return an error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[21]++;cov_oenp07420.s[48]++;request.post(&#x27;/users&#x27;).send({name:&#x27;&#x27;,email:&#x27;brunohafonso.gmail.com&#x27;,password:&#x27;&#x27;}).expect(412).end((error,response)=&gt;{cov_oenp07420.f[22]++;cov_oenp07420.s[49]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;message&#x27;);cov_oenp07420.s[50]++;(0,_chai.expect)(response.body.message).to.contains(&#x27;The email you entered is invalid or is already in our system&#x27;);cov_oenp07420.s[51]++;done(error);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60888739-f35c-44cc-864b-8286708c09fd&quot;,&quot;parentUUID&quot;:&quot;4893d30e-0349-4259-aa1d-02545effa6c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a3c21b31-c56e-4e9d-b535-11c30670d9c3&quot;,&quot;68bbbc3a-03cf-40d3-b596-3f4d1df50a30&quot;,&quot;60888739-f35c-44cc-864b-8286708c09fd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:243,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;26750b52-141f-4344-8892-a8c784e9befd&quot;,&quot;title&quot;:&quot;GET /user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\users.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\users.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;GET /user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:198,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[24]++;cov_oenp07420.s[54]++;Users.destroy({where:{}}).then(async()=&gt;{cov_oenp07420.f[25]++;const user=(cov_oenp07420.s[55]++,await Users.create({name:&#x27;brunohafonso&#x27;,email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;123456&#x27;}));cov_oenp07420.s[56]++;token=await(0,_token.generateToken)({id:user.id,email:user.email});cov_oenp07420.s[57]++;done();});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a29862e4-0dc7-42c4-9e13-983e3d4bf7c5&quot;,&quot;parentUUID&quot;:&quot;26750b52-141f-4344-8892-a8c784e9befd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 200 - should return an authenticated user&quot;,&quot;fullTitle&quot;:&quot;GET /user status 200 - should return an authenticated user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[26]++;cov_oenp07420.s[59]++;request.get(&#x27;/user&#x27;).set(&#x27;Authorization&#x27;,`Bearer ${token}`).expect(200).end((err,response)=&gt;{cov_oenp07420.f[27]++;cov_oenp07420.s[60]++;(0,_chai.expect)(response.body).to.include.keys(&#x27;user&#x27;);cov_oenp07420.s[61]++;(0,_chai.expect)(response.body.user.name).to.be.equal(&#x27;brunohafonso&#x27;);cov_oenp07420.s[62]++;done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7b6f115-7077-4791-b7c2-39e4bc4f74e9&quot;,&quot;parentUUID&quot;:&quot;26750b52-141f-4344-8892-a8c784e9befd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d7b6f115-7077-4791-b7c2-39e4bc4f74e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ad0d8450-29b8-41e6-9c68-9b6b7b15f877&quot;,&quot;title&quot;:&quot;DELETE /user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\users.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\users.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;DELETE /user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:289,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[29]++;cov_oenp07420.s[65]++;Users.destroy({where:{}}).then(async()=&gt;{cov_oenp07420.f[30]++;const user=(cov_oenp07420.s[66]++,await Users.create({name:&#x27;brunohafonso&#x27;,email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;123456&#x27;}));cov_oenp07420.s[67]++;token=await(0,_token.generateToken)({id:user.id,email:user.email});cov_oenp07420.s[68]++;done();});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0874127-6385-48b3-af01-6098f5d429b3&quot;,&quot;parentUUID&quot;:&quot;ad0d8450-29b8-41e6-9c68-9b6b7b15f877&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 204 - should return nothing&quot;,&quot;fullTitle&quot;:&quot;DELETE /user status 204 - should return nothing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[31]++;cov_oenp07420.s[70]++;request.delete(&#x27;/user&#x27;).set(&#x27;Authorization&#x27;,`Bearer ${token}`).expect(204).end(err=&gt;{cov_oenp07420.f[32]++;cov_oenp07420.s[71]++;return done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;044d10ed-7862-49e5-92ef-3e855af382f8&quot;,&quot;parentUUID&quot;:&quot;ad0d8450-29b8-41e6-9c68-9b6b7b15f877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;044d10ed-7862-49e5-92ef-3e855af382f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:112,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c026b3d0-980b-46d2-a34c-055158b815fb&quot;,&quot;title&quot;:&quot;PUT /user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\users.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\integration\\users.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;PUT /user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:209,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[34]++;cov_oenp07420.s[74]++;Users.destroy({where:{}}).then(async()=&gt;{cov_oenp07420.f[35]++;const user=(cov_oenp07420.s[75]++,await Users.create({name:&#x27;brunohafonso&#x27;,email:&#x27;brunohafonso@gmail.com&#x27;,password:&#x27;123456&#x27;}));cov_oenp07420.s[76]++;token=await(0,_token.generateToken)({id:user.id,email:user.email});cov_oenp07420.s[77]++;done();});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c8cc661-7158-4962-8651-b0fb0cfc694d&quot;,&quot;parentUUID&quot;:&quot;c026b3d0-980b-46d2-a34c-055158b815fb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;status 204 - should return nothing&quot;,&quot;fullTitle&quot;:&quot;PUT /user status 204 - should return nothing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cov_oenp07420.f[36]++;cov_oenp07420.s[79]++;request.put(&#x27;/user&#x27;).set(&#x27;Authorization&#x27;,`Bearer ${token}`).send({name:&#x27;brunoafonso&#x27;,email:&#x27;brunohafonso@yahoo.com&#x27;,password:&#x27;123456&#x27;}).expect(204).end(err=&gt;{cov_oenp07420.f[37]++;cov_oenp07420.s[80]++;return done(err);});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dab3a44-1d16-4e10-b375-3b401e8f1775&quot;,&quot;parentUUID&quot;:&quot;c026b3d0-980b-46d2-a34c-055158b815fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4dab3a44-1d16-4e10-b375-3b401e8f1775&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:120,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.1.4&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;resultEvidences&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.0.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;reportTitle&quot;:&quot;Ntask&quot;,&quot;reportPageTitle&quot;:&quot;Ntask&quot;,&quot;reportDir&quot;:&quot;tests/integration/reports/htmlReports&quot;,&quot;reportFilename&quot;:&quot;resultEvidences&quot;},&quot;version&quot;:&quot;4.0.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;resultEvidences&quot;,&quot;reportDir&quot;:&quot;tests/integration/reports/htmlReports&quot;,&quot;reportTitle&quot;:&quot;Ntask&quot;,&quot;reportPageTitle&quot;:&quot;Ntask&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;tests\\integration\\reports\\htmlReports\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\reports\\htmlReports\\resultEvidences.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\bhenriquea\\Desktop\\testes node\\livro-api-nodejs\\Ntask\\tests\\integration\\reports\\htmlReports\\resultEvidences.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>